---
import Layout from './Layout.astro';
import Navigation from '../components/Navigation.astro';

interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
---

<Layout title={title} description={description}>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <Navigation />
  <main id="main-content" class="page-content">
    <slot />
  </main>
</Layout>

<style>
  /* Skip Navigation Link - Accessibility */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary);
    color: #000;
    padding: 8px 16px;
    text-decoration: none;
    font-weight: 600;
    border-radius: 0 0 4px 0;
    z-index: 10000;
    transition: top 0.2s ease;
  }

  .skip-link:focus {
    top: 0;
  }

  .page-content {
    max-width: 100%;
    margin: 0 auto;
    padding: 1rem;
    margin-top: 80px; /* Platz für fixierten Header */
    min-height: calc(100vh - 80px);
    height: calc(100vh - 80px);
    overflow-y: auto; /* Content scrollt, nicht Body */
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling auf iOS */
  }

  @media (max-width: 768px) {
    .page-content {
      padding: 1rem;
      padding-bottom: 3rem; /* Extra Platz am Ende */
      margin-top: 70px; /* Kleinerer Header auf Mobile */
      height: calc(100dvh - 70px); /* dvh berücksichtigt Browser-UI */
      min-height: auto;
    }
  }
</style>
